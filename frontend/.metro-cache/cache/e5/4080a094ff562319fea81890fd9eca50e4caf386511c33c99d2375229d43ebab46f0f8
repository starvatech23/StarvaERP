{"dependencies":[{"name":"./adder.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"CmgiR5L9IBX0A3EpA7G7AJUDzH0=","exportNames":["*"],"imports":1}},{"name":"./cartesian.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":84,"index":116}}],"key":"LKrjAkGz/S7AF1cbRoAu/nT66ww=","exportNames":["*"],"imports":1}},{"name":"./math.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":117},"end":{"line":3,"column":96,"index":213}}],"key":"ySpOHGLt4EckG9K+TobGsyJtQww=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  var _adderJs = require(_dependencyMap[0], \"./adder.js\");\n  var adder = _interopDefault(_adderJs);\n  var _cartesianJs = require(_dependencyMap[1], \"./cartesian.js\");\n  var _mathJs = require(_dependencyMap[2], \"./math.js\");\n  var sum = (0, adder.default)();\n  function longitude(point) {\n    if ((0, _mathJs.abs)(point[0]) <= _mathJs.pi) return point[0];else return (0, _mathJs.sign)(point[0]) * (((0, _mathJs.abs)(point[0]) + _mathJs.pi) % _mathJs.tau - _mathJs.pi);\n  }\n  function _ref(polygon, point) {\n    var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = (0, _mathJs.sin)(phi),\n      normal = [(0, _mathJs.sin)(lambda), -(0, _mathJs.cos)(lambda), 0],\n      angle = 0,\n      winding = 0;\n    sum.reset();\n    if (sinPhi === 1) phi = _mathJs.halfPi + _mathJs.epsilon;else if (sinPhi === -1) phi = -_mathJs.halfPi - _mathJs.epsilon;\n    for (var i = 0, n = polygon.length; i < n; ++i) {\n      if (!(m = (ring = polygon[i]).length)) continue;\n      var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + _mathJs.quarterPi,\n        sinPhi0 = (0, _mathJs.sin)(phi0),\n        cosPhi0 = (0, _mathJs.cos)(phi0);\n      for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n        var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + _mathJs.quarterPi,\n          sinPhi1 = (0, _mathJs.sin)(phi1),\n          cosPhi1 = (0, _mathJs.cos)(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > _mathJs.pi,\n          k = sinPhi0 * sinPhi1;\n        sum.add((0, _mathJs.atan2)(k * sign * (0, _mathJs.sin)(absDelta), cosPhi0 * cosPhi1 + k * (0, _mathJs.cos)(absDelta)));\n        angle += antimeridian ? delta + sign * _mathJs.tau : delta;\n\n        // Are the longitudes either side of the pointâ€™s meridian (lambda),\n        // and are the latitudes smaller than the parallel (phi)?\n        if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n          var arc = (0, _cartesianJs.cartesianCross)((0, _cartesianJs.cartesian)(point0), (0, _cartesianJs.cartesian)(point1));\n          (0, _cartesianJs.cartesianNormalizeInPlace)(arc);\n          var intersection = (0, _cartesianJs.cartesianCross)(normal, arc);\n          (0, _cartesianJs.cartesianNormalizeInPlace)(intersection);\n          var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * (0, _mathJs.asin)(intersection[2]);\n          if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n            winding += antimeridian ^ delta >= 0 ? 1 : -1;\n          }\n        }\n      }\n    }\n\n    // First, determine whether the South pole is inside or outside:\n    //\n    // It is inside if:\n    // * the polygon winds around it in a clockwise direction.\n    // * the polygon does not (cumulatively) wind around it, but has a negative\n    //   (counter-clockwise) area.\n    //\n    // Second, count the (signed) number of times a segment crosses a lambda\n    // from the point to the South pole.  If it is zero, then the point is the\n    // same side as the South pole.\n\n    return (angle < -_mathJs.epsilon || angle < _mathJs.epsilon && sum < -_mathJs.epsilon) ^ winding & 1;\n  }\n});","lineCount":86,"map":[[12,2,14,15,"Object"],[12,8,14,15],[12,9,14,15,"defineProperty"],[12,23,14,15],[12,24,14,15,"exports"],[12,31,14,15],[13,4,14,15,"enumerable"],[13,14,14,15],[14,4,14,15,"get"],[14,7,14,15],[14,18,14,15,"get"],[14,19,14,15],[15,6,14,15],[15,13,14,15,"_ref"],[15,17,14,15],[16,4,14,15],[17,2,14,15],[18,2,1,0],[18,6,1,0,"_adderJs"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,1,0],[19,6,1,0,"adder"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_adderJs"],[19,38,1,0],[20,2,2,0],[20,6,2,0,"_cartesianJs"],[20,18,2,0],[20,21,2,0,"require"],[20,28,2,0],[20,29,2,0,"_dependencyMap"],[20,43,2,0],[21,2,3,0],[21,6,3,0,"_mathJs"],[21,13,3,0],[21,16,3,0,"require"],[21,23,3,0],[21,24,3,0,"_dependencyMap"],[21,38,3,0],[22,2,5,0],[22,6,5,4,"sum"],[22,9,5,7],[22,12,5,10],[22,16,5,10,"adder"],[22,21,5,15],[22,22,5,15,"default"],[22,29,5,15],[22,31,5,16],[22,32,5,17],[23,2,7,0],[23,11,7,9,"longitude"],[23,20,7,18,"longitude"],[23,21,7,19,"point"],[23,26,7,24],[23,28,7,26],[24,4,8,2],[24,8,8,6],[24,12,8,6,"abs"],[24,19,8,9],[24,20,8,9,"abs"],[24,23,8,9],[24,25,8,10,"point"],[24,30,8,15],[24,31,8,16],[24,32,8,17],[24,33,8,18],[24,34,8,19],[24,38,8,23,"pi"],[24,45,8,25],[24,46,8,25,"pi"],[24,48,8,25],[24,50,9,4],[24,57,9,11,"point"],[24,62,9,16],[24,63,9,17],[24,64,9,18],[24,65,9,19],[24,66,9,20],[24,71,11,4],[24,78,11,11],[24,82,11,11,"sign"],[24,89,11,15],[24,90,11,15,"sign"],[24,94,11,15],[24,96,11,16,"point"],[24,101,11,21],[24,102,11,22],[24,103,11,23],[24,104,11,24],[24,105,11,25],[24,109,11,29],[24,110,11,30],[24,114,11,30,"abs"],[24,121,11,33],[24,122,11,33,"abs"],[24,125,11,33],[24,127,11,34,"point"],[24,132,11,39],[24,133,11,40],[24,134,11,41],[24,135,11,42],[24,136,11,43],[24,139,11,46,"pi"],[24,146,11,48],[24,147,11,48,"pi"],[24,149,11,48],[24,153,11,52,"tau"],[24,160,11,55],[24,161,11,55,"tau"],[24,164,11,55],[24,167,11,58,"pi"],[24,174,11,60],[24,175,11,60,"pi"],[24,177,11,60],[24,178,11,61],[25,2,12,0],[26,2,14,15],[26,11,14,15,"_ref"],[26,16,14,24,"polygon"],[26,23,14,31],[26,25,14,33,"point"],[26,30,14,38],[26,32,14,40],[27,4,15,2],[27,8,15,6,"lambda"],[27,14,15,12],[27,17,15,15,"longitude"],[27,26,15,24],[27,27,15,25,"point"],[27,32,15,30],[27,33,15,31],[28,6,16,6,"phi"],[28,9,16,9],[28,12,16,12,"point"],[28,17,16,17],[28,18,16,18],[28,19,16,19],[28,20,16,20],[29,6,17,6,"sinPhi"],[29,12,17,12],[29,15,17,15],[29,19,17,15,"sin"],[29,26,17,18],[29,27,17,18,"sin"],[29,30,17,18],[29,32,17,19,"phi"],[29,35,17,22],[29,36,17,23],[30,6,18,6,"normal"],[30,12,18,12],[30,15,18,15],[30,16,18,16],[30,20,18,16,"sin"],[30,27,18,19],[30,28,18,19,"sin"],[30,31,18,19],[30,33,18,20,"lambda"],[30,39,18,26],[30,40,18,27],[30,42,18,29],[30,43,18,30],[30,47,18,30,"cos"],[30,54,18,33],[30,55,18,33,"cos"],[30,58,18,33],[30,60,18,34,"lambda"],[30,66,18,40],[30,67,18,41],[30,69,18,43],[30,70,18,44],[30,71,18,45],[31,6,19,6,"angle"],[31,11,19,11],[31,14,19,14],[31,15,19,15],[32,6,20,6,"winding"],[32,13,20,13],[32,16,20,16],[32,17,20,17],[33,4,22,2,"sum"],[33,7,22,5],[33,8,22,6,"reset"],[33,13,22,11],[33,14,22,12],[33,15,22,13],[34,4,24,2],[34,8,24,6,"sinPhi"],[34,14,24,12],[34,19,24,17],[34,20,24,18],[34,22,24,20,"phi"],[34,25,24,23],[34,28,24,26,"halfPi"],[34,35,24,32],[34,36,24,32,"halfPi"],[34,42,24,32],[34,45,24,35,"epsilon"],[34,52,24,42],[34,53,24,42,"epsilon"],[34,60,24,42],[34,61,24,43],[34,66,25,7],[34,70,25,11,"sinPhi"],[34,76,25,17],[34,81,25,22],[34,82,25,23],[34,83,25,24],[34,85,25,26,"phi"],[34,88,25,29],[34,91,25,32],[34,92,25,33,"halfPi"],[34,99,25,39],[34,100,25,39,"halfPi"],[34,106,25,39],[34,109,25,42,"epsilon"],[34,116,25,49],[34,117,25,49,"epsilon"],[34,124,25,49],[35,4,27,2],[35,9,27,7],[35,13,27,11,"i"],[35,14,27,12],[35,17,27,15],[35,18,27,16],[35,20,27,18,"n"],[35,21,27,19],[35,24,27,22,"polygon"],[35,31,27,29],[35,32,27,30,"length"],[35,38,27,36],[35,40,27,38,"i"],[35,41,27,39],[35,44,27,42,"n"],[35,45,27,43],[35,47,27,45],[35,49,27,47,"i"],[35,50,27,48],[35,52,27,50],[36,6,28,4],[36,10,28,8],[36,12,28,10,"m"],[36,13,28,11],[36,16,28,14],[36,17,28,15,"ring"],[36,21,28,19],[36,24,28,22,"polygon"],[36,31,28,29],[36,32,28,30,"i"],[36,33,28,31],[36,34,28,32],[36,36,28,34,"length"],[36,42,28,40],[36,43,28,41],[36,45,28,43],[37,6,29,4],[37,10,29,8,"ring"],[37,14,29,12],[38,8,30,8,"m"],[38,9,30,9],[39,8,31,8,"point0"],[39,14,31,14],[39,17,31,17,"ring"],[39,21,31,21],[39,22,31,22,"m"],[39,23,31,23],[39,26,31,26],[39,27,31,27],[39,28,31,28],[40,8,32,8,"lambda0"],[40,15,32,15],[40,18,32,18,"longitude"],[40,27,32,27],[40,28,32,28,"point0"],[40,34,32,34],[40,35,32,35],[41,8,33,8,"phi0"],[41,12,33,12],[41,15,33,15,"point0"],[41,21,33,21],[41,22,33,22],[41,23,33,23],[41,24,33,24],[41,27,33,27],[41,28,33,28],[41,31,33,31,"quarterPi"],[41,38,33,40],[41,39,33,40,"quarterPi"],[41,48,33,40],[42,8,34,8,"sinPhi0"],[42,15,34,15],[42,18,34,18],[42,22,34,18,"sin"],[42,29,34,21],[42,30,34,21,"sin"],[42,33,34,21],[42,35,34,22,"phi0"],[42,39,34,26],[42,40,34,27],[43,8,35,8,"cosPhi0"],[43,15,35,15],[43,18,35,18],[43,22,35,18,"cos"],[43,29,35,21],[43,30,35,21,"cos"],[43,33,35,21],[43,35,35,22,"phi0"],[43,39,35,26],[43,40,35,27],[44,6,37,4],[44,11,37,9],[44,15,37,13,"j"],[44,16,37,14],[44,19,37,17],[44,20,37,18],[44,22,37,20,"j"],[44,23,37,21],[44,26,37,24,"m"],[44,27,37,25],[44,29,37,27],[44,31,37,29,"j"],[44,32,37,30],[44,34,37,32,"lambda0"],[44,41,37,39],[44,44,37,42,"lambda1"],[44,51,37,49],[44,53,37,51,"sinPhi0"],[44,60,37,58],[44,63,37,61,"sinPhi1"],[44,70,37,68],[44,72,37,70,"cosPhi0"],[44,79,37,77],[44,82,37,80,"cosPhi1"],[44,89,37,87],[44,91,37,89,"point0"],[44,97,37,95],[44,100,37,98,"point1"],[44,106,37,104],[44,108,37,106],[45,8,38,6],[45,12,38,10,"point1"],[45,18,38,16],[45,21,38,19,"ring"],[45,25,38,23],[45,26,38,24,"j"],[45,27,38,25],[45,28,38,26],[46,10,39,10,"lambda1"],[46,17,39,17],[46,20,39,20,"longitude"],[46,29,39,29],[46,30,39,30,"point1"],[46,36,39,36],[46,37,39,37],[47,10,40,10,"phi1"],[47,14,40,14],[47,17,40,17,"point1"],[47,23,40,23],[47,24,40,24],[47,25,40,25],[47,26,40,26],[47,29,40,29],[47,30,40,30],[47,33,40,33,"quarterPi"],[47,40,40,42],[47,41,40,42,"quarterPi"],[47,50,40,42],[48,10,41,10,"sinPhi1"],[48,17,41,17],[48,20,41,20],[48,24,41,20,"sin"],[48,31,41,23],[48,32,41,23,"sin"],[48,35,41,23],[48,37,41,24,"phi1"],[48,41,41,28],[48,42,41,29],[49,10,42,10,"cosPhi1"],[49,17,42,17],[49,20,42,20],[49,24,42,20,"cos"],[49,31,42,23],[49,32,42,23,"cos"],[49,35,42,23],[49,37,42,24,"phi1"],[49,41,42,28],[49,42,42,29],[50,10,43,10,"delta"],[50,15,43,15],[50,18,43,18,"lambda1"],[50,25,43,25],[50,28,43,28,"lambda0"],[50,35,43,35],[51,10,44,10,"sign"],[51,14,44,14],[51,17,44,17,"delta"],[51,22,44,22],[51,26,44,26],[51,27,44,27],[51,30,44,30],[51,31,44,31],[51,34,44,34],[51,35,44,35],[51,36,44,36],[52,10,45,10,"absDelta"],[52,18,45,18],[52,21,45,21,"sign"],[52,25,45,25],[52,28,45,28,"delta"],[52,33,45,33],[53,10,46,10,"antimeridian"],[53,22,46,22],[53,25,46,25,"absDelta"],[53,33,46,33],[53,36,46,36,"pi"],[53,43,46,38],[53,44,46,38,"pi"],[53,46,46,38],[54,10,47,10,"k"],[54,11,47,11],[54,14,47,14,"sinPhi0"],[54,21,47,21],[54,24,47,24,"sinPhi1"],[54,31,47,31],[55,8,49,6,"sum"],[55,11,49,9],[55,12,49,10,"add"],[55,15,49,13],[55,16,49,14],[55,20,49,14,"atan2"],[55,27,49,19],[55,28,49,19,"atan2"],[55,33,49,19],[55,35,49,20,"k"],[55,36,49,21],[55,39,49,24,"sign"],[55,43,49,28],[55,46,49,31],[55,50,49,31,"sin"],[55,57,49,34],[55,58,49,34,"sin"],[55,61,49,34],[55,63,49,35,"absDelta"],[55,71,49,43],[55,72,49,44],[55,74,49,46,"cosPhi0"],[55,81,49,53],[55,84,49,56,"cosPhi1"],[55,91,49,63],[55,94,49,66,"k"],[55,95,49,67],[55,98,49,70],[55,102,49,70,"cos"],[55,109,49,73],[55,110,49,73,"cos"],[55,113,49,73],[55,115,49,74,"absDelta"],[55,123,49,82],[55,124,49,83],[55,125,49,84],[55,126,49,85],[56,8,50,6,"angle"],[56,13,50,11],[56,17,50,15,"antimeridian"],[56,29,50,27],[56,32,50,30,"delta"],[56,37,50,35],[56,40,50,38,"sign"],[56,44,50,42],[56,47,50,45,"tau"],[56,54,50,48],[56,55,50,48,"tau"],[56,58,50,48],[56,61,50,51,"delta"],[56,66,50,56],[58,8,52,6],[59,8,53,6],[60,8,54,6],[60,12,54,10,"antimeridian"],[60,24,54,22],[60,27,54,25,"lambda0"],[60,34,54,32],[60,38,54,36,"lambda"],[60,44,54,42],[60,47,54,45,"lambda1"],[60,54,54,52],[60,58,54,56,"lambda"],[60,64,54,62],[60,66,54,64],[61,10,55,8],[61,14,55,12,"arc"],[61,17,55,15],[61,20,55,18],[61,24,55,18,"cartesianCross"],[61,36,55,32],[61,37,55,32,"cartesianCross"],[61,51,55,32],[61,53,55,33],[61,57,55,33,"cartesian"],[61,69,55,42],[61,70,55,42,"cartesian"],[61,79,55,42],[61,81,55,43,"point0"],[61,87,55,49],[61,88,55,50],[61,90,55,52],[61,94,55,52,"cartesian"],[61,106,55,61],[61,107,55,61,"cartesian"],[61,116,55,61],[61,118,55,62,"point1"],[61,124,55,68],[61,125,55,69],[61,126,55,70],[62,10,56,8],[62,14,56,8,"cartesianNormalizeInPlace"],[62,26,56,33],[62,27,56,33,"cartesianNormalizeInPlace"],[62,52,56,33],[62,54,56,34,"arc"],[62,57,56,37],[62,58,56,38],[63,10,57,8],[63,14,57,12,"intersection"],[63,26,57,24],[63,29,57,27],[63,33,57,27,"cartesianCross"],[63,45,57,41],[63,46,57,41,"cartesianCross"],[63,60,57,41],[63,62,57,42,"normal"],[63,68,57,48],[63,70,57,50,"arc"],[63,73,57,53],[63,74,57,54],[64,10,58,8],[64,14,58,8,"cartesianNormalizeInPlace"],[64,26,58,33],[64,27,58,33,"cartesianNormalizeInPlace"],[64,52,58,33],[64,54,58,34,"intersection"],[64,66,58,46],[64,67,58,47],[65,10,59,8],[65,14,59,12,"phiArc"],[65,20,59,18],[65,23,59,21],[65,24,59,22,"antimeridian"],[65,36,59,34],[65,39,59,37,"delta"],[65,44,59,42],[65,48,59,46],[65,49,59,47],[65,52,59,50],[65,53,59,51],[65,54,59,52],[65,57,59,55],[65,58,59,56],[65,62,59,60],[65,66,59,60,"asin"],[65,73,59,64],[65,74,59,64,"asin"],[65,78,59,64],[65,80,59,65,"intersection"],[65,92,59,77],[65,93,59,78],[65,94,59,79],[65,95,59,80],[65,96,59,81],[66,10,60,8],[66,14,60,12,"phi"],[66,17,60,15],[66,20,60,18,"phiArc"],[66,26,60,24],[66,30,60,28,"phi"],[66,33,60,31],[66,38,60,36,"phiArc"],[66,44,60,42],[66,49,60,47,"arc"],[66,52,60,50],[66,53,60,51],[66,54,60,52],[66,55,60,53],[66,59,60,57,"arc"],[66,62,60,60],[66,63,60,61],[66,64,60,62],[66,65,60,63],[66,66,60,64],[66,68,60,66],[67,12,61,10,"winding"],[67,19,61,17],[67,23,61,21,"antimeridian"],[67,35,61,33],[67,38,61,36,"delta"],[67,43,61,41],[67,47,61,45],[67,48,61,46],[67,51,61,49],[67,52,61,50],[67,55,61,53],[67,56,61,54],[67,57,61,55],[68,10,62,8],[69,8,63,6],[70,6,64,4],[71,4,65,2],[73,4,67,2],[74,4,68,2],[75,4,69,2],[76,4,70,2],[77,4,71,2],[78,4,72,2],[79,4,73,2],[80,4,74,2],[81,4,75,2],[82,4,76,2],[84,4,78,2],[84,11,78,9],[84,12,78,10,"angle"],[84,17,78,15],[84,20,78,18],[84,21,78,19,"epsilon"],[84,28,78,26],[84,29,78,26,"epsilon"],[84,36,78,26],[84,40,78,30,"angle"],[84,45,78,35],[84,48,78,38,"epsilon"],[84,55,78,45],[84,56,78,45,"epsilon"],[84,63,78,45],[84,67,78,49,"sum"],[84,70,78,52],[84,73,78,55],[84,74,78,56,"epsilon"],[84,81,78,63],[84,82,78,63,"epsilon"],[84,89,78,63],[84,93,78,68,"winding"],[84,100,78,75],[84,103,78,78],[84,104,78,80],[85,2,79,0],[86,0,79,1],[86,3]],"functionMap":{"names":["<global>","longitude","default"],"mappings":"AAA;ACM;CDK;eEE;CFiE"},"hasCjsExports":false},"type":"js/module"}]}