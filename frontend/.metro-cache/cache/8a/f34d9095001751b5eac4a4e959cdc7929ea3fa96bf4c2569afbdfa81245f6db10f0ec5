{"dependencies":[{"name":"./cross.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"v/+fTB8n9+Yh9d/cTwI3SoKW/rc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  var _crossJs = require(_dependencyMap[0], \"./cross.js\");\n  var cross = _interopDefault(_crossJs);\n  function lexicographicOrder(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n\n  // Computes the upper convex hull per the monotone chain algorithm.\n  // Assumes points.length >= 3, is sorted by x, unique in y.\n  // Returns an array of indices into points in left-to-right order.\n  function computeUpperHullIndexes(points) {\n    var n = points.length,\n      indexes = [0, 1],\n      size = 2;\n    for (var i = 2; i < n; ++i) {\n      while (size > 1 && (0, cross.default)(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n      indexes[size++] = i;\n    }\n    return indexes.slice(0, size); // remove popped points\n  }\n  function _ref(points) {\n    if ((n = points.length) < 3) return null;\n    var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n    for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n    sortedPoints.sort(lexicographicOrder);\n    for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n    var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n    // Construct the hull polygon, removing possible duplicate endpoints.\n    var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n    // Add upper hull in right-to-l order.\n    // Then add lower hull in left-to-right order.\n    for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n    for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n    return hull;\n  }\n});","lineCount":60,"map":[[12,2,23,15,"Object"],[12,8,23,15],[12,9,23,15,"defineProperty"],[12,23,23,15],[12,24,23,15,"exports"],[12,31,23,15],[13,4,23,15,"enumerable"],[13,14,23,15],[14,4,23,15,"get"],[14,7,23,15],[14,18,23,15,"get"],[14,19,23,15],[15,6,23,15],[15,13,23,15,"_ref"],[15,17,23,15],[16,4,23,15],[17,2,23,15],[18,2,1,0],[18,6,1,0,"_crossJs"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,1,0],[19,6,1,0,"cross"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_crossJs"],[19,38,1,0],[20,2,3,0],[20,11,3,9,"lexicographicOrder"],[20,29,3,27,"lexicographicOrder"],[20,30,3,28,"a"],[20,31,3,29],[20,33,3,31,"b"],[20,34,3,32],[20,36,3,34],[21,4,4,2],[21,11,4,9,"a"],[21,12,4,10],[21,13,4,11],[21,14,4,12],[21,15,4,13],[21,18,4,16,"b"],[21,19,4,17],[21,20,4,18],[21,21,4,19],[21,22,4,20],[21,26,4,24,"a"],[21,27,4,25],[21,28,4,26],[21,29,4,27],[21,30,4,28],[21,33,4,31,"b"],[21,34,4,32],[21,35,4,33],[21,36,4,34],[21,37,4,35],[22,2,5,0],[24,2,7,0],[25,2,8,0],[26,2,9,0],[27,2,10,0],[27,11,10,9,"computeUpperHullIndexes"],[27,34,10,32,"computeUpperHullIndexes"],[27,35,10,33,"points"],[27,41,10,39],[27,43,10,41],[28,4,11,2],[28,8,11,6,"n"],[28,9,11,7],[28,12,11,10,"points"],[28,18,11,16],[28,19,11,17,"length"],[28,25,11,23],[29,6,12,6,"indexes"],[29,13,12,13],[29,16,12,16],[29,17,12,17],[29,18,12,18],[29,20,12,20],[29,21,12,21],[29,22,12,22],[30,6,13,6,"size"],[30,10,13,10],[30,13,13,13],[30,14,13,14],[31,4,15,2],[31,9,15,7],[31,13,15,11,"i"],[31,14,15,12],[31,17,15,15],[31,18,15,16],[31,20,15,18,"i"],[31,21,15,19],[31,24,15,22,"n"],[31,25,15,23],[31,27,15,25],[31,29,15,27,"i"],[31,30,15,28],[31,32,15,30],[32,6,16,4],[32,13,16,11,"size"],[32,17,16,15],[32,20,16,18],[32,21,16,19],[32,25,16,23],[32,29,16,23,"cross"],[32,34,16,28],[32,35,16,28,"default"],[32,42,16,28],[32,44,16,29,"points"],[32,50,16,35],[32,51,16,36,"indexes"],[32,58,16,43],[32,59,16,44,"size"],[32,63,16,48],[32,66,16,51],[32,67,16,52],[32,68,16,53],[32,69,16,54],[32,71,16,56,"points"],[32,77,16,62],[32,78,16,63,"indexes"],[32,85,16,70],[32,86,16,71,"size"],[32,90,16,75],[32,93,16,78],[32,94,16,79],[32,95,16,80],[32,96,16,81],[32,98,16,83,"points"],[32,104,16,89],[32,105,16,90,"i"],[32,106,16,91],[32,107,16,92],[32,108,16,93],[32,112,16,97],[32,113,16,98],[32,115,16,100],[32,117,16,102,"size"],[32,121,16,106],[33,6,17,4,"indexes"],[33,13,17,11],[33,14,17,12,"size"],[33,18,17,16],[33,20,17,18],[33,21,17,19],[33,24,17,22,"i"],[33,25,17,23],[34,4,18,2],[35,4,20,2],[35,11,20,9,"indexes"],[35,18,20,16],[35,19,20,17,"slice"],[35,24,20,22],[35,25,20,23],[35,26,20,24],[35,28,20,26,"size"],[35,32,20,30],[35,33,20,31],[35,34,20,32],[35,35,20,33],[36,2,21,0],[37,2,23,15],[37,11,23,15,"_ref"],[37,16,23,24,"points"],[37,22,23,30],[37,24,23,32],[38,4,24,2],[38,8,24,6],[38,9,24,7,"n"],[38,10,24,8],[38,13,24,11,"points"],[38,19,24,17],[38,20,24,18,"length"],[38,26,24,24],[38,30,24,28],[38,31,24,29],[38,33,24,31],[38,40,24,38],[38,44,24,42],[39,4,26,2],[39,8,26,6,"i"],[39,9,26,7],[40,6,27,6,"n"],[40,7,27,7],[41,6,28,6,"sortedPoints"],[41,18,28,18],[41,21,28,21],[41,25,28,25,"Array"],[41,30,28,30],[41,31,28,31,"n"],[41,32,28,32],[41,33,28,33],[42,6,29,6,"flippedPoints"],[42,19,29,19],[42,22,29,22],[42,26,29,26,"Array"],[42,31,29,31],[42,32,29,32,"n"],[42,33,29,33],[42,34,29,34],[43,4,31,2],[43,9,31,7,"i"],[43,10,31,8],[43,13,31,11],[43,14,31,12],[43,16,31,14,"i"],[43,17,31,15],[43,20,31,18,"n"],[43,21,31,19],[43,23,31,21],[43,25,31,23,"i"],[43,26,31,24],[43,28,31,26,"sortedPoints"],[43,40,31,38],[43,41,31,39,"i"],[43,42,31,40],[43,43,31,41],[43,46,31,44],[43,47,31,45],[43,48,31,46,"points"],[43,54,31,52],[43,55,31,53,"i"],[43,56,31,54],[43,57,31,55],[43,58,31,56],[43,59,31,57],[43,60,31,58],[43,62,31,60],[43,63,31,61,"points"],[43,69,31,67],[43,70,31,68,"i"],[43,71,31,69],[43,72,31,70],[43,73,31,71],[43,74,31,72],[43,75,31,73],[43,77,31,75,"i"],[43,78,31,76],[43,79,31,77],[44,4,32,2,"sortedPoints"],[44,16,32,14],[44,17,32,15,"sort"],[44,21,32,19],[44,22,32,20,"lexicographicOrder"],[44,40,32,38],[44,41,32,39],[45,4,33,2],[45,9,33,7,"i"],[45,10,33,8],[45,13,33,11],[45,14,33,12],[45,16,33,14,"i"],[45,17,33,15],[45,20,33,18,"n"],[45,21,33,19],[45,23,33,21],[45,25,33,23,"i"],[45,26,33,24],[45,28,33,26,"flippedPoints"],[45,41,33,39],[45,42,33,40,"i"],[45,43,33,41],[45,44,33,42],[45,47,33,45],[45,48,33,46,"sortedPoints"],[45,60,33,58],[45,61,33,59,"i"],[45,62,33,60],[45,63,33,61],[45,64,33,62],[45,65,33,63],[45,66,33,64],[45,68,33,66],[45,69,33,67,"sortedPoints"],[45,81,33,79],[45,82,33,80,"i"],[45,83,33,81],[45,84,33,82],[45,85,33,83],[45,86,33,84],[45,87,33,85],[45,88,33,86],[46,4,35,2],[46,8,35,6,"upperIndexes"],[46,20,35,18],[46,23,35,21,"computeUpperHullIndexes"],[46,46,35,44],[46,47,35,45,"sortedPoints"],[46,59,35,57],[46,60,35,58],[47,6,36,6,"lowerIndexes"],[47,18,36,18],[47,21,36,21,"computeUpperHullIndexes"],[47,44,36,44],[47,45,36,45,"flippedPoints"],[47,58,36,58],[47,59,36,59],[49,4,38,2],[50,4,39,2],[50,8,39,6,"skipLeft"],[50,16,39,14],[50,19,39,17,"lowerIndexes"],[50,31,39,29],[50,32,39,30],[50,33,39,31],[50,34,39,32],[50,39,39,37,"upperIndexes"],[50,51,39,49],[50,52,39,50],[50,53,39,51],[50,54,39,52],[51,6,40,6,"skipRight"],[51,15,40,15],[51,18,40,18,"lowerIndexes"],[51,30,40,30],[51,31,40,31,"lowerIndexes"],[51,43,40,43],[51,44,40,44,"length"],[51,50,40,50],[51,53,40,53],[51,54,40,54],[51,55,40,55],[51,60,40,60,"upperIndexes"],[51,72,40,72],[51,73,40,73,"upperIndexes"],[51,85,40,85],[51,86,40,86,"length"],[51,92,40,92],[51,95,40,95],[51,96,40,96],[51,97,40,97],[52,6,41,6,"hull"],[52,10,41,10],[52,13,41,13],[52,15,41,15],[54,4,43,2],[55,4,44,2],[56,4,45,2],[56,9,45,7,"i"],[56,10,45,8],[56,13,45,11,"upperIndexes"],[56,25,45,23],[56,26,45,24,"length"],[56,32,45,30],[56,35,45,33],[56,36,45,34],[56,38,45,36,"i"],[56,39,45,37],[56,43,45,41],[56,44,45,42],[56,46,45,44],[56,48,45,46,"i"],[56,49,45,47],[56,51,45,49,"hull"],[56,55,45,53],[56,56,45,54,"push"],[56,60,45,58],[56,61,45,59,"points"],[56,67,45,65],[56,68,45,66,"sortedPoints"],[56,80,45,78],[56,81,45,79,"upperIndexes"],[56,93,45,91],[56,94,45,92,"i"],[56,95,45,93],[56,96,45,94],[56,97,45,95],[56,98,45,96],[56,99,45,97],[56,100,45,98],[56,101,45,99],[56,102,45,100],[57,4,46,2],[57,9,46,7,"i"],[57,10,46,8],[57,13,46,11],[57,14,46,12,"skipLeft"],[57,22,46,20],[57,24,46,22,"i"],[57,25,46,23],[57,28,46,26,"lowerIndexes"],[57,40,46,38],[57,41,46,39,"length"],[57,47,46,45],[57,50,46,48,"skipRight"],[57,59,46,57],[57,61,46,59],[57,63,46,61,"i"],[57,64,46,62],[57,66,46,64,"hull"],[57,70,46,68],[57,71,46,69,"push"],[57,75,46,73],[57,76,46,74,"points"],[57,82,46,80],[57,83,46,81,"sortedPoints"],[57,95,46,93],[57,96,46,94,"lowerIndexes"],[57,108,46,106],[57,109,46,107,"i"],[57,110,46,108],[57,111,46,109],[57,112,46,110],[57,113,46,111],[57,114,46,112],[57,115,46,113],[57,116,46,114],[57,117,46,115],[58,4,48,2],[58,11,48,9,"hull"],[58,15,48,13],[59,2,49,0],[60,0,49,1],[60,3]],"functionMap":{"names":["<global>","lexicographicOrder","computeUpperHullIndexes","default"],"mappings":"AAA;ACE;CDE;AEK;CFW;eGE;CH0B"},"hasCjsExports":false},"type":"js/module"}]}