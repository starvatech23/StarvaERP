{"dependencies":[{"name":"./map","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"v/AqT7efSJBKVJqndurwy73sLdo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  var _map = require(_dependencyMap[0], \"./map\");\n  var map = _interopDefault(_map);\n  function _ref() {\n    var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n    function apply(array, depth, createResult, setResult) {\n      if (depth >= keys.length) {\n        if (sortValues != null) array.sort(sortValues);\n        return rollup != null ? rollup(array) : array;\n      }\n      var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = (0, map.default)(),\n        values,\n        result = createResult();\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n          values.push(value);\n        } else {\n          valuesByKey.set(keyValue, [value]);\n        }\n      }\n      valuesByKey.each(function (values, key) {\n        setResult(result, key, apply(values, depth, createResult, setResult));\n      });\n      return result;\n    }\n    function entries(map, depth) {\n      if (++depth > keys.length) return map;\n      var array,\n        sortKey = sortKeys[depth - 1];\n      if (rollup != null && depth >= keys.length) array = map.entries();else array = [], map.each(function (v, k) {\n        array.push({\n          key: k,\n          values: entries(v, depth)\n        });\n      });\n      return sortKey != null ? array.sort(function (a, b) {\n        return sortKey(a.key, b.key);\n      }) : array;\n    }\n    return nest = {\n      object: function (array) {\n        return apply(array, 0, createObject, setObject);\n      },\n      map: function (array) {\n        return apply(array, 0, createMap, setMap);\n      },\n      entries: function (array) {\n        return entries(apply(array, 0, createMap, setMap), 0);\n      },\n      key: function (d) {\n        keys.push(d);\n        return nest;\n      },\n      sortKeys: function (order) {\n        sortKeys[keys.length - 1] = order;\n        return nest;\n      },\n      sortValues: function (order) {\n        sortValues = order;\n        return nest;\n      },\n      rollup: function (f) {\n        rollup = f;\n        return nest;\n      }\n    };\n  }\n  function createObject() {\n    return {};\n  }\n  function setObject(object, key, value) {\n    object[key] = value;\n  }\n  function createMap() {\n    return (0, map.default)();\n  }\n  function setMap(map, key, value) {\n    map.set(key, value);\n  }\n});","lineCount":105,"map":[[12,2,3,15,"Object"],[12,8,3,15],[12,9,3,15,"defineProperty"],[12,23,3,15],[12,24,3,15,"exports"],[12,31,3,15],[13,4,3,15,"enumerable"],[13,14,3,15],[14,4,3,15,"get"],[14,7,3,15],[14,18,3,15,"get"],[14,19,3,15],[15,6,3,15],[15,13,3,15,"_ref"],[15,17,3,15],[16,4,3,15],[17,2,3,15],[18,2,1,0],[18,6,1,0,"_map"],[18,10,1,0],[18,13,1,0,"require"],[18,20,1,0],[18,21,1,0,"_dependencyMap"],[18,35,1,0],[19,2,1,0],[19,6,1,0,"map"],[19,9,1,0],[19,12,1,0,"_interopDefault"],[19,27,1,0],[19,28,1,0,"_map"],[19,32,1,0],[20,2,3,15],[20,11,3,15,"_ref"],[20,16,3,15],[20,18,3,26],[21,4,4,2],[21,8,4,6,"keys"],[21,12,4,10],[21,15,4,13],[21,17,4,15],[22,6,5,6,"sortKeys"],[22,14,5,14],[22,17,5,17],[22,19,5,19],[23,6,6,6,"sortValues"],[23,16,6,16],[24,6,7,6,"rollup"],[24,12,7,12],[25,6,8,6,"nest"],[25,10,8,10],[26,4,10,2],[26,13,10,11,"apply"],[26,18,10,16,"apply"],[26,19,10,17,"array"],[26,24,10,22],[26,26,10,24,"depth"],[26,31,10,29],[26,33,10,31,"createResult"],[26,45,10,43],[26,47,10,45,"setResult"],[26,56,10,54],[26,58,10,56],[27,6,11,4],[27,10,11,8,"depth"],[27,15,11,13],[27,19,11,17,"keys"],[27,23,11,21],[27,24,11,22,"length"],[27,30,11,28],[27,32,11,30],[28,8,12,6],[28,12,12,10,"sortValues"],[28,22,12,20],[28,26,12,24],[28,30,12,28],[28,32,12,30,"array"],[28,37,12,35],[28,38,12,36,"sort"],[28,42,12,40],[28,43,12,41,"sortValues"],[28,53,12,51],[28,54,12,52],[29,8,13,6],[29,15,13,13,"rollup"],[29,21,13,19],[29,25,13,23],[29,29,13,27],[29,32,13,30,"rollup"],[29,38,13,36],[29,39,13,37,"array"],[29,44,13,42],[29,45,13,43],[29,48,13,46,"array"],[29,53,13,51],[30,6,14,4],[31,6,16,4],[31,10,16,8,"i"],[31,11,16,9],[31,14,16,12],[31,15,16,13],[31,16,16,14],[32,8,17,8,"n"],[32,9,17,9],[32,12,17,12,"array"],[32,17,17,17],[32,18,17,18,"length"],[32,24,17,24],[33,8,18,8,"key"],[33,11,18,11],[33,14,18,14,"keys"],[33,18,18,18],[33,19,18,19,"depth"],[33,24,18,24],[33,26,18,26],[33,27,18,27],[34,8,19,8,"keyValue"],[34,16,19,16],[35,8,20,8,"value"],[35,13,20,13],[36,8,21,8,"valuesByKey"],[36,19,21,19],[36,22,21,22],[36,26,21,22,"map"],[36,29,21,25],[36,30,21,25,"default"],[36,37,21,25],[36,39,21,26],[36,40,21,27],[37,8,22,8,"values"],[37,14,22,14],[38,8,23,8,"result"],[38,14,23,14],[38,17,23,17,"createResult"],[38,29,23,29],[38,30,23,30],[38,31,23,31],[39,6,25,4],[39,13,25,11],[39,15,25,13,"i"],[39,16,25,14],[39,19,25,17,"n"],[39,20,25,18],[39,22,25,20],[40,8,26,6],[40,12,26,10,"values"],[40,18,26,16],[40,21,26,19,"valuesByKey"],[40,32,26,30],[40,33,26,31,"get"],[40,36,26,34],[40,37,26,35,"keyValue"],[40,45,26,43],[40,48,26,46,"key"],[40,51,26,49],[40,52,26,50,"value"],[40,57,26,55],[40,60,26,58,"array"],[40,65,26,63],[40,66,26,64,"i"],[40,67,26,65],[40,68,26,66],[40,69,26,67],[40,72,26,70],[40,74,26,72],[40,75,26,73],[40,77,26,75],[41,10,27,8,"values"],[41,16,27,14],[41,17,27,15,"push"],[41,21,27,19],[41,22,27,20,"value"],[41,27,27,25],[41,28,27,26],[42,8,28,6],[42,9,28,7],[42,15,28,13],[43,10,29,8,"valuesByKey"],[43,21,29,19],[43,22,29,20,"set"],[43,25,29,23],[43,26,29,24,"keyValue"],[43,34,29,32],[43,36,29,34],[43,37,29,35,"value"],[43,42,29,40],[43,43,29,41],[43,44,29,42],[44,8,30,6],[45,6,31,4],[46,6,33,4,"valuesByKey"],[46,17,33,15],[46,18,33,16,"each"],[46,22,33,20],[46,23,33,21],[46,33,33,30,"values"],[46,39,33,36],[46,41,33,38,"key"],[46,44,33,41],[46,46,33,43],[47,8,34,6,"setResult"],[47,17,34,15],[47,18,34,16,"result"],[47,24,34,22],[47,26,34,24,"key"],[47,29,34,27],[47,31,34,29,"apply"],[47,36,34,34],[47,37,34,35,"values"],[47,43,34,41],[47,45,34,43,"depth"],[47,50,34,48],[47,52,34,50,"createResult"],[47,64,34,62],[47,66,34,64,"setResult"],[47,75,34,73],[47,76,34,74],[47,77,34,75],[48,6,35,4],[48,7,35,5],[48,8,35,6],[49,6,37,4],[49,13,37,11,"result"],[49,19,37,17],[50,4,38,2],[51,4,40,2],[51,13,40,11,"entries"],[51,20,40,18,"entries"],[51,21,40,19,"map"],[51,24,40,22],[51,26,40,24,"depth"],[51,31,40,29],[51,33,40,31],[52,6,41,4],[52,10,41,8],[52,12,41,10,"depth"],[52,17,41,15],[52,20,41,18,"keys"],[52,24,41,22],[52,25,41,23,"length"],[52,31,41,29],[52,33,41,31],[52,40,41,38,"map"],[52,43,41,41],[53,6,42,4],[53,10,42,8,"array"],[53,15,42,13],[54,8,42,15,"sortKey"],[54,15,42,22],[54,18,42,25,"sortKeys"],[54,26,42,33],[54,27,42,34,"depth"],[54,32,42,39],[54,35,42,42],[54,36,42,43],[54,37,42,44],[55,6,43,4],[55,10,43,8,"rollup"],[55,16,43,14],[55,20,43,18],[55,24,43,22],[55,28,43,26,"depth"],[55,33,43,31],[55,37,43,35,"keys"],[55,41,43,39],[55,42,43,40,"length"],[55,48,43,46],[55,50,43,48,"array"],[55,55,43,53],[55,58,43,56,"map"],[55,61,43,59],[55,62,43,60,"entries"],[55,69,43,67],[55,70,43,68],[55,71,43,69],[55,72,43,70],[55,77,44,9,"array"],[55,82,44,14],[55,85,44,17],[55,87,44,19],[55,89,44,21,"map"],[55,92,44,24],[55,93,44,25,"each"],[55,97,44,29],[55,98,44,30],[55,108,44,39,"v"],[55,109,44,40],[55,111,44,42,"k"],[55,112,44,43],[55,114,44,45],[56,8,44,47,"array"],[56,13,44,52],[56,14,44,53,"push"],[56,18,44,57],[56,19,44,58],[57,10,44,59,"key"],[57,13,44,62],[57,15,44,64,"k"],[57,16,44,65],[58,10,44,67,"values"],[58,16,44,73],[58,18,44,75,"entries"],[58,25,44,82],[58,26,44,83,"v"],[58,27,44,84],[58,29,44,86,"depth"],[58,34,44,91],[59,8,44,92],[59,9,44,93],[59,10,44,94],[60,6,44,96],[60,7,44,97],[60,8,44,98],[61,6,45,4],[61,13,45,11,"sortKey"],[61,20,45,18],[61,24,45,22],[61,28,45,26],[61,31,45,29,"array"],[61,36,45,34],[61,37,45,35,"sort"],[61,41,45,39],[61,42,45,40],[61,52,45,49,"a"],[61,53,45,50],[61,55,45,52,"b"],[61,56,45,53],[61,58,45,55],[62,8,45,57],[62,15,45,64,"sortKey"],[62,22,45,71],[62,23,45,72,"a"],[62,24,45,73],[62,25,45,74,"key"],[62,28,45,77],[62,30,45,79,"b"],[62,31,45,80],[62,32,45,81,"key"],[62,35,45,84],[62,36,45,85],[63,6,45,87],[63,7,45,88],[63,8,45,89],[63,11,45,92,"array"],[63,16,45,97],[64,4,46,2],[65,4,48,2],[65,11,48,9,"nest"],[65,15,48,13],[65,18,48,16],[66,6,49,4,"object"],[66,12,49,10],[66,14,49,12],[66,23,49,12,"object"],[66,24,49,21,"array"],[66,29,49,26],[66,31,49,28],[67,8,49,30],[67,15,49,37,"apply"],[67,20,49,42],[67,21,49,43,"array"],[67,26,49,48],[67,28,49,50],[67,29,49,51],[67,31,49,53,"createObject"],[67,43,49,65],[67,45,49,67,"setObject"],[67,54,49,76],[67,55,49,77],[68,6,49,79],[68,7,49,80],[69,6,50,4,"map"],[69,9,50,7],[69,11,50,9],[69,20,50,9,"map"],[69,21,50,18,"array"],[69,26,50,23],[69,28,50,25],[70,8,50,27],[70,15,50,34,"apply"],[70,20,50,39],[70,21,50,40,"array"],[70,26,50,45],[70,28,50,47],[70,29,50,48],[70,31,50,50,"createMap"],[70,40,50,59],[70,42,50,61,"setMap"],[70,48,50,67],[70,49,50,68],[71,6,50,70],[71,7,50,71],[72,6,51,4,"entries"],[72,13,51,11],[72,15,51,13],[72,24,51,13,"entries"],[72,25,51,22,"array"],[72,30,51,27],[72,32,51,29],[73,8,51,31],[73,15,51,38,"entries"],[73,22,51,45],[73,23,51,46,"apply"],[73,28,51,51],[73,29,51,52,"array"],[73,34,51,57],[73,36,51,59],[73,37,51,60],[73,39,51,62,"createMap"],[73,48,51,71],[73,50,51,73,"setMap"],[73,56,51,79],[73,57,51,80],[73,59,51,82],[73,60,51,83],[73,61,51,84],[74,6,51,86],[74,7,51,87],[75,6,52,4,"key"],[75,9,52,7],[75,11,52,9],[75,20,52,9,"key"],[75,21,52,18,"d"],[75,22,52,19],[75,24,52,21],[76,8,52,23,"keys"],[76,12,52,27],[76,13,52,28,"push"],[76,17,52,32],[76,18,52,33,"d"],[76,19,52,34],[76,20,52,35],[77,8,52,37],[77,15,52,44,"nest"],[77,19,52,48],[78,6,52,50],[78,7,52,51],[79,6,53,4,"sortKeys"],[79,14,53,12],[79,16,53,14],[79,25,53,14,"sortKeys"],[79,26,53,23,"order"],[79,31,53,28],[79,33,53,30],[80,8,53,32,"sortKeys"],[80,16,53,40],[80,17,53,41,"keys"],[80,21,53,45],[80,22,53,46,"length"],[80,28,53,52],[80,31,53,55],[80,32,53,56],[80,33,53,57],[80,36,53,60,"order"],[80,41,53,65],[81,8,53,67],[81,15,53,74,"nest"],[81,19,53,78],[82,6,53,80],[82,7,53,81],[83,6,54,4,"sortValues"],[83,16,54,14],[83,18,54,16],[83,27,54,16,"sortValues"],[83,28,54,25,"order"],[83,33,54,30],[83,35,54,32],[84,8,54,34,"sortValues"],[84,18,54,44],[84,21,54,47,"order"],[84,26,54,52],[85,8,54,54],[85,15,54,61,"nest"],[85,19,54,65],[86,6,54,67],[86,7,54,68],[87,6,55,4,"rollup"],[87,12,55,10],[87,14,55,12],[87,23,55,12,"rollup"],[87,24,55,21,"f"],[87,25,55,22],[87,27,55,24],[88,8,55,26,"rollup"],[88,14,55,32],[88,17,55,35,"f"],[88,18,55,36],[89,8,55,38],[89,15,55,45,"nest"],[89,19,55,49],[90,6,55,51],[91,4,56,2],[91,5,56,3],[92,2,57,0],[93,2,59,0],[93,11,59,9,"createObject"],[93,23,59,21,"createObject"],[93,24,59,21],[93,26,59,24],[94,4,60,2],[94,11,60,9],[94,12,60,10],[94,13,60,11],[95,2,61,0],[96,2,63,0],[96,11,63,9,"setObject"],[96,20,63,18,"setObject"],[96,21,63,19,"object"],[96,27,63,25],[96,29,63,27,"key"],[96,32,63,30],[96,34,63,32,"value"],[96,39,63,37],[96,41,63,39],[97,4,64,2,"object"],[97,10,64,8],[97,11,64,9,"key"],[97,14,64,12],[97,15,64,13],[97,18,64,16,"value"],[97,23,64,21],[98,2,65,0],[99,2,67,0],[99,11,67,9,"createMap"],[99,20,67,18,"createMap"],[99,21,67,18],[99,23,67,21],[100,4,68,2],[100,11,68,9],[100,15,68,9,"map"],[100,18,68,12],[100,19,68,12,"default"],[100,26,68,12],[100,28,68,13],[100,29,68,14],[101,2,69,0],[102,2,71,0],[102,11,71,9,"setMap"],[102,17,71,15,"setMap"],[102,18,71,16,"map"],[102,21,71,19],[102,23,71,21,"key"],[102,26,71,24],[102,28,71,26,"value"],[102,33,71,31],[102,35,71,33],[103,4,72,2,"map"],[103,7,72,5],[103,8,72,6,"set"],[103,11,72,9],[103,12,72,10,"key"],[103,15,72,13],[103,17,72,15,"value"],[103,22,72,20],[103,23,72,21],[104,2,73,0],[105,0,73,1],[105,3]],"functionMap":{"names":["<global>","default","apply","valuesByKey.each$argument_0","entries","map.each$argument_0","array.sort$argument_0","object","map","key","sortKeys","sortValues","rollup","createObject","setObject","createMap","setMap"],"mappings":"AAA;eCE;ECO;qBCuB;KDE;GDG;EGE;8BCI,mED;wCEC,gDF;GHC;YMG,oEN;SOC,8DP;aGC,0EH;SQC,0CR;cSC,mET;gBUC,oDV;YWC,wCX;CDE;AaE;CbE;AcE;CdE;AeE;CfE;AgBE;ChBE"},"hasCjsExports":false},"type":"js/module"}]}