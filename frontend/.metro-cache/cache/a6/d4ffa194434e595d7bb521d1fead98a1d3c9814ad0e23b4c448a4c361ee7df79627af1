{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  function _ref(parent, x0, y0, x1, y1) {\n    var nodes = parent.children,\n      i,\n      n = nodes.length,\n      sum,\n      sums = new Array(n + 1);\n    for (sums[0] = sum = i = 0; i < n; ++i) {\n      sums[i + 1] = sum += nodes[i].value;\n    }\n    partition(0, n, parent.value, x0, y0, x1, y1);\n    function partition(i, j, value, x0, y0, x1, y1) {\n      if (i >= j - 1) {\n        var node = nodes[i];\n        node.x0 = x0, node.y0 = y0;\n        node.x1 = x1, node.y1 = y1;\n        return;\n      }\n      var valueOffset = sums[i],\n        valueTarget = value / 2 + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n      while (k < hi) {\n        var mid = k + hi >>> 1;\n        if (sums[mid] < valueTarget) k = mid + 1;else hi = mid;\n      }\n      if (valueTarget - sums[k - 1] < sums[k] - valueTarget && i + 1 < k) --k;\n      var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n      if (x1 - x0 > y1 - y0) {\n        var xk = (x0 * valueRight + x1 * valueLeft) / value;\n        partition(i, k, valueLeft, x0, y0, xk, y1);\n        partition(k, j, valueRight, xk, y0, x1, y1);\n      } else {\n        var yk = (y0 * valueRight + y1 * valueLeft) / value;\n        partition(i, k, valueLeft, x0, y0, x1, yk);\n        partition(k, j, valueRight, x0, yk, x1, y1);\n      }\n    }\n  }\n});","lineCount":52,"map":[[7,2,1,15,"Object"],[7,8,1,15],[7,9,1,15,"defineProperty"],[7,23,1,15],[7,24,1,15,"exports"],[7,31,1,15],[8,4,1,15,"enumerable"],[8,14,1,15],[9,4,1,15,"get"],[9,7,1,15],[9,18,1,15,"get"],[9,19,1,15],[10,6,1,15],[10,13,1,15,"_ref"],[10,17,1,15],[11,4,1,15],[12,2,1,15],[13,2,1,15],[13,11,1,15,"_ref"],[13,16,1,24,"parent"],[13,22,1,30],[13,24,1,32,"x0"],[13,26,1,34],[13,28,1,36,"y0"],[13,30,1,38],[13,32,1,40,"x1"],[13,34,1,42],[13,36,1,44,"y1"],[13,38,1,46],[13,40,1,48],[14,4,2,2],[14,8,2,6,"nodes"],[14,13,2,11],[14,16,2,14,"parent"],[14,22,2,20],[14,23,2,21,"children"],[14,31,2,29],[15,6,3,6,"i"],[15,7,3,7],[16,6,3,9,"n"],[16,7,3,10],[16,10,3,13,"nodes"],[16,15,3,18],[16,16,3,19,"length"],[16,22,3,25],[17,6,4,6,"sum"],[17,9,4,9],[18,6,4,11,"sums"],[18,10,4,15],[18,13,4,18],[18,17,4,22,"Array"],[18,22,4,27],[18,23,4,28,"n"],[18,24,4,29],[18,27,4,32],[18,28,4,33],[18,29,4,34],[19,4,6,2],[19,9,6,7,"sums"],[19,13,6,11],[19,14,6,12],[19,15,6,13],[19,16,6,14],[19,19,6,17,"sum"],[19,22,6,20],[19,25,6,23,"i"],[19,26,6,24],[19,29,6,27],[19,30,6,28],[19,32,6,30,"i"],[19,33,6,31],[19,36,6,34,"n"],[19,37,6,35],[19,39,6,37],[19,41,6,39,"i"],[19,42,6,40],[19,44,6,42],[20,6,7,4,"sums"],[20,10,7,8],[20,11,7,9,"i"],[20,12,7,10],[20,15,7,13],[20,16,7,14],[20,17,7,15],[20,20,7,18,"sum"],[20,23,7,21],[20,27,7,25,"nodes"],[20,32,7,30],[20,33,7,31,"i"],[20,34,7,32],[20,35,7,33],[20,36,7,34,"value"],[20,41,7,39],[21,4,8,2],[22,4,10,2,"partition"],[22,13,10,11],[22,14,10,12],[22,15,10,13],[22,17,10,15,"n"],[22,18,10,16],[22,20,10,18,"parent"],[22,26,10,24],[22,27,10,25,"value"],[22,32,10,30],[22,34,10,32,"x0"],[22,36,10,34],[22,38,10,36,"y0"],[22,40,10,38],[22,42,10,40,"x1"],[22,44,10,42],[22,46,10,44,"y1"],[22,48,10,46],[22,49,10,47],[23,4,12,2],[23,13,12,11,"partition"],[23,22,12,20,"partition"],[23,23,12,21,"i"],[23,24,12,22],[23,26,12,24,"j"],[23,27,12,25],[23,29,12,27,"value"],[23,34,12,32],[23,36,12,34,"x0"],[23,38,12,36],[23,40,12,38,"y0"],[23,42,12,40],[23,44,12,42,"x1"],[23,46,12,44],[23,48,12,46,"y1"],[23,50,12,48],[23,52,12,50],[24,6,13,4],[24,10,13,8,"i"],[24,11,13,9],[24,15,13,13,"j"],[24,16,13,14],[24,19,13,17],[24,20,13,18],[24,22,13,20],[25,8,14,6],[25,12,14,10,"node"],[25,16,14,14],[25,19,14,17,"nodes"],[25,24,14,22],[25,25,14,23,"i"],[25,26,14,24],[25,27,14,25],[26,8,15,6,"node"],[26,12,15,10],[26,13,15,11,"x0"],[26,15,15,13],[26,18,15,16,"x0"],[26,20,15,18],[26,22,15,20,"node"],[26,26,15,24],[26,27,15,25,"y0"],[26,29,15,27],[26,32,15,30,"y0"],[26,34,15,32],[27,8,16,6,"node"],[27,12,16,10],[27,13,16,11,"x1"],[27,15,16,13],[27,18,16,16,"x1"],[27,20,16,18],[27,22,16,20,"node"],[27,26,16,24],[27,27,16,25,"y1"],[27,29,16,27],[27,32,16,30,"y1"],[27,34,16,32],[28,8,17,6],[29,6,18,4],[30,6,20,4],[30,10,20,8,"valueOffset"],[30,21,20,19],[30,24,20,22,"sums"],[30,28,20,26],[30,29,20,27,"i"],[30,30,20,28],[30,31,20,29],[31,8,21,8,"valueTarget"],[31,19,21,19],[31,22,21,23,"value"],[31,27,21,28],[31,30,21,31],[31,31,21,32],[31,34,21,36,"valueOffset"],[31,45,21,47],[32,8,22,8,"k"],[32,9,22,9],[32,12,22,12,"i"],[32,13,22,13],[32,16,22,16],[32,17,22,17],[33,8,23,8,"hi"],[33,10,23,10],[33,13,23,13,"j"],[33,14,23,14],[33,17,23,17],[33,18,23,18],[34,6,25,4],[34,13,25,11,"k"],[34,14,25,12],[34,17,25,15,"hi"],[34,19,25,17],[34,21,25,19],[35,8,26,6],[35,12,26,10,"mid"],[35,15,26,13],[35,18,26,16,"k"],[35,19,26,17],[35,22,26,20,"hi"],[35,24,26,22],[35,29,26,27],[35,30,26,28],[36,8,27,6],[36,12,27,10,"sums"],[36,16,27,14],[36,17,27,15,"mid"],[36,20,27,18],[36,21,27,19],[36,24,27,22,"valueTarget"],[36,35,27,33],[36,37,27,35,"k"],[36,38,27,36],[36,41,27,39,"mid"],[36,44,27,42],[36,47,27,45],[36,48,27,46],[36,49,27,47],[36,54,28,11,"hi"],[36,56,28,13],[36,59,28,16,"mid"],[36,62,28,19],[37,6,29,4],[38,6,31,4],[38,10,31,9,"valueTarget"],[38,21,31,20],[38,24,31,23,"sums"],[38,28,31,27],[38,29,31,28,"k"],[38,30,31,29],[38,33,31,32],[38,34,31,33],[38,35,31,34],[38,38,31,39,"sums"],[38,42,31,43],[38,43,31,44,"k"],[38,44,31,45],[38,45,31,46],[38,48,31,49,"valueTarget"],[38,59,31,61],[38,63,31,65,"i"],[38,64,31,66],[38,67,31,69],[38,68,31,70],[38,71,31,73,"k"],[38,72,31,74],[38,74,31,76],[38,76,31,78,"k"],[38,77,31,79],[39,6,33,4],[39,10,33,8,"valueLeft"],[39,19,33,17],[39,22,33,20,"sums"],[39,26,33,24],[39,27,33,25,"k"],[39,28,33,26],[39,29,33,27],[39,32,33,30,"valueOffset"],[39,43,33,41],[40,8,34,8,"valueRight"],[40,18,34,18],[40,21,34,21,"value"],[40,26,34,26],[40,29,34,29,"valueLeft"],[40,38,34,38],[41,6,36,4],[41,10,36,9,"x1"],[41,12,36,11],[41,15,36,14,"x0"],[41,17,36,16],[41,20,36,21,"y1"],[41,22,36,23],[41,25,36,26,"y0"],[41,27,36,29],[41,29,36,31],[42,8,37,6],[42,12,37,10,"xk"],[42,14,37,12],[42,17,37,15],[42,18,37,16,"x0"],[42,20,37,18],[42,23,37,21,"valueRight"],[42,33,37,31],[42,36,37,34,"x1"],[42,38,37,36],[42,41,37,39,"valueLeft"],[42,50,37,48],[42,54,37,52,"value"],[42,59,37,57],[43,8,38,6,"partition"],[43,17,38,15],[43,18,38,16,"i"],[43,19,38,17],[43,21,38,19,"k"],[43,22,38,20],[43,24,38,22,"valueLeft"],[43,33,38,31],[43,35,38,33,"x0"],[43,37,38,35],[43,39,38,37,"y0"],[43,41,38,39],[43,43,38,41,"xk"],[43,45,38,43],[43,47,38,45,"y1"],[43,49,38,47],[43,50,38,48],[44,8,39,6,"partition"],[44,17,39,15],[44,18,39,16,"k"],[44,19,39,17],[44,21,39,19,"j"],[44,22,39,20],[44,24,39,22,"valueRight"],[44,34,39,32],[44,36,39,34,"xk"],[44,38,39,36],[44,40,39,38,"y0"],[44,42,39,40],[44,44,39,42,"x1"],[44,46,39,44],[44,48,39,46,"y1"],[44,50,39,48],[44,51,39,49],[45,6,40,4],[45,7,40,5],[45,13,40,11],[46,8,41,6],[46,12,41,10,"yk"],[46,14,41,12],[46,17,41,15],[46,18,41,16,"y0"],[46,20,41,18],[46,23,41,21,"valueRight"],[46,33,41,31],[46,36,41,34,"y1"],[46,38,41,36],[46,41,41,39,"valueLeft"],[46,50,41,48],[46,54,41,52,"value"],[46,59,41,57],[47,8,42,6,"partition"],[47,17,42,15],[47,18,42,16,"i"],[47,19,42,17],[47,21,42,19,"k"],[47,22,42,20],[47,24,42,22,"valueLeft"],[47,33,42,31],[47,35,42,33,"x0"],[47,37,42,35],[47,39,42,37,"y0"],[47,41,42,39],[47,43,42,41,"x1"],[47,45,42,43],[47,47,42,45,"yk"],[47,49,42,47],[47,50,42,48],[48,8,43,6,"partition"],[48,17,43,15],[48,18,43,16,"k"],[48,19,43,17],[48,21,43,19,"j"],[48,22,43,20],[48,24,43,22,"valueRight"],[48,34,43,32],[48,36,43,34,"x0"],[48,38,43,36],[48,40,43,38,"yk"],[48,42,43,40],[48,44,43,42,"x1"],[48,46,43,44],[48,48,43,46,"y1"],[48,50,43,48],[48,51,43,49],[49,6,44,4],[50,4,45,2],[51,2,46,0],[52,0,46,1],[52,3]],"functionMap":{"names":["<global>","default","partition"],"mappings":"AAA,eC;ECW;GDiC;CDC"},"hasCjsExports":false},"type":"js/module"}]}