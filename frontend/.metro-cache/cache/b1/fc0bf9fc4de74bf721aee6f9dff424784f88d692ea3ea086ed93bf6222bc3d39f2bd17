{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _ref;\n    }\n  });\n  exports.addAll = addAll;\n  function _ref(d) {\n    var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n    return add(this.cover(x, y), x, y, d);\n  }\n  function add(tree, x, y, d) {\n    if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n    var parent,\n      node = tree._root,\n      leaf = {\n        data: d\n      },\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return tree._root = leaf, tree;\n\n    // Find the existing leaf for the new point, or add it.\n    while (node.length) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n      if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n    }\n\n    // Is the new point is exactly coincident with the existing point?\n    xp = +tree._x.call(null, node.data);\n    yp = +tree._y.call(null, node.data);\n    if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n    // Otherwise, split the leaf node until the old and new point are separated.\n    do {\n      parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | xp >= xm));\n    return parent[j] = node, parent[i] = leaf, tree;\n  }\n  function addAll(data) {\n    var d,\n      i,\n      n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n    // Compute the points and their extent.\n    for (i = 0; i < n; ++i) {\n      if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n      xz[i] = x;\n      yz[i] = y;\n      if (x < x0) x0 = x;\n      if (x > x1) x1 = x;\n      if (y < y0) y0 = y;\n      if (y > y1) y1 = y;\n    }\n\n    // If there were no (valid) points, abort.\n    if (x0 > x1 || y0 > y1) return this;\n\n    // Expand the tree to cover the new points.\n    this.cover(x0, y0).cover(x1, y1);\n\n    // Add the new points.\n    for (i = 0; i < n; ++i) {\n      add(this, xz[i], yz[i], data[i]);\n    }\n    return this;\n  }\n});","lineCount":99,"map":[[7,2,1,15,"Object"],[7,8,1,15],[7,9,1,15,"defineProperty"],[7,23,1,15],[7,24,1,15,"exports"],[7,31,1,15],[8,4,1,15,"enumerable"],[8,14,1,15],[9,4,1,15,"get"],[9,7,1,15],[9,18,1,15,"get"],[9,19,1,15],[10,6,1,15],[10,13,1,15,"_ref"],[10,17,1,15],[11,4,1,15],[12,2,1,15],[13,2,50,0,"exports"],[13,9,50,0],[13,10,50,0,"addAll"],[13,16,50,0],[13,19,50,0,"addAll"],[13,25,50,0],[14,2,1,15],[14,11,1,15,"_ref"],[14,16,1,24,"d"],[14,17,1,25],[14,19,1,27],[15,4,2,2],[15,8,2,6,"x"],[15,9,2,7],[15,12,2,10],[15,13,2,11],[15,17,2,15],[15,18,2,16,"_x"],[15,20,2,18],[15,21,2,19,"call"],[15,25,2,23],[15,26,2,24],[15,30,2,28],[15,32,2,30,"d"],[15,33,2,31],[15,34,2,32],[16,6,3,6,"y"],[16,7,3,7],[16,10,3,10],[16,11,3,11],[16,15,3,15],[16,16,3,16,"_y"],[16,18,3,18],[16,19,3,19,"call"],[16,23,3,23],[16,24,3,24],[16,28,3,28],[16,30,3,30,"d"],[16,31,3,31],[16,32,3,32],[17,4,4,2],[17,11,4,9,"add"],[17,14,4,12],[17,15,4,13],[17,19,4,17],[17,20,4,18,"cover"],[17,25,4,23],[17,26,4,24,"x"],[17,27,4,25],[17,29,4,27,"y"],[17,30,4,28],[17,31,4,29],[17,33,4,31,"x"],[17,34,4,32],[17,36,4,34,"y"],[17,37,4,35],[17,39,4,37,"d"],[17,40,4,38],[17,41,4,39],[18,2,5,0],[19,2,7,0],[19,11,7,9,"add"],[19,14,7,12,"add"],[19,15,7,13,"tree"],[19,19,7,17],[19,21,7,19,"x"],[19,22,7,20],[19,24,7,22,"y"],[19,25,7,23],[19,27,7,25,"d"],[19,28,7,26],[19,30,7,28],[20,4,8,2],[20,8,8,6,"isNaN"],[20,13,8,11],[20,14,8,12,"x"],[20,15,8,13],[20,16,8,14],[20,20,8,18,"isNaN"],[20,25,8,23],[20,26,8,24,"y"],[20,27,8,25],[20,28,8,26],[20,30,8,28],[20,37,8,35,"tree"],[20,41,8,39],[20,42,8,40],[20,43,8,41],[22,4,10,2],[22,8,10,6,"parent"],[22,14,10,12],[23,6,11,6,"node"],[23,10,11,10],[23,13,11,13,"tree"],[23,17,11,17],[23,18,11,18,"_root"],[23,23,11,23],[24,6,12,6,"leaf"],[24,10,12,10],[24,13,12,13],[25,8,12,14,"data"],[25,12,12,18],[25,14,12,20,"d"],[26,6,12,21],[26,7,12,22],[27,6,13,6,"x0"],[27,8,13,8],[27,11,13,11,"tree"],[27,15,13,15],[27,16,13,16,"_x0"],[27,19,13,19],[28,6,14,6,"y0"],[28,8,14,8],[28,11,14,11,"tree"],[28,15,14,15],[28,16,14,16,"_y0"],[28,19,14,19],[29,6,15,6,"x1"],[29,8,15,8],[29,11,15,11,"tree"],[29,15,15,15],[29,16,15,16,"_x1"],[29,19,15,19],[30,6,16,6,"y1"],[30,8,16,8],[30,11,16,11,"tree"],[30,15,16,15],[30,16,16,16,"_y1"],[30,19,16,19],[31,6,17,6,"xm"],[31,8,17,8],[32,6,18,6,"ym"],[32,8,18,8],[33,6,19,6,"xp"],[33,8,19,8],[34,6,20,6,"yp"],[34,8,20,8],[35,6,21,6,"right"],[35,11,21,11],[36,6,22,6,"bottom"],[36,12,22,12],[37,6,23,6,"i"],[37,7,23,7],[38,6,24,6,"j"],[38,7,24,7],[40,4,26,2],[41,4,27,2],[41,8,27,6],[41,9,27,7,"node"],[41,13,27,11],[41,15,27,13],[41,22,27,20,"tree"],[41,26,27,24],[41,27,27,25,"_root"],[41,32,27,30],[41,35,27,33,"leaf"],[41,39,27,37],[41,41,27,39,"tree"],[41,45,27,43],[43,4,29,2],[44,4,30,2],[44,11,30,9,"node"],[44,15,30,13],[44,16,30,14,"length"],[44,22,30,20],[44,24,30,22],[45,6,31,4],[45,10,31,8,"right"],[45,15,31,13],[45,18,31,16,"x"],[45,19,31,17],[45,24,31,22,"xm"],[45,26,31,24],[45,29,31,27],[45,30,31,28,"x0"],[45,32,31,30],[45,35,31,33,"x1"],[45,37,31,35],[45,41,31,39],[45,42,31,40],[45,43,31,41],[45,45,31,43,"x0"],[45,47,31,45],[45,50,31,48,"xm"],[45,52,31,50],[45,53,31,51],[45,58,31,57,"x1"],[45,60,31,59],[45,63,31,62,"xm"],[45,65,31,64],[46,6,32,4],[46,10,32,8,"bottom"],[46,16,32,14],[46,19,32,17,"y"],[46,20,32,18],[46,25,32,23,"ym"],[46,27,32,25],[46,30,32,28],[46,31,32,29,"y0"],[46,33,32,31],[46,36,32,34,"y1"],[46,38,32,36],[46,42,32,40],[46,43,32,41],[46,44,32,42],[46,46,32,44,"y0"],[46,48,32,46],[46,51,32,49,"ym"],[46,53,32,51],[46,54,32,52],[46,59,32,58,"y1"],[46,61,32,60],[46,64,32,63,"ym"],[46,66,32,65],[47,6,33,4],[47,10,33,8,"parent"],[47,16,33,14],[47,19,33,17,"node"],[47,23,33,21],[47,25,33,23],[47,27,33,25,"node"],[47,31,33,29],[47,34,33,32,"node"],[47,38,33,36],[47,39,33,37,"i"],[47,40,33,38],[47,43,33,41,"bottom"],[47,49,33,47],[47,53,33,51],[47,54,33,52],[47,57,33,55,"right"],[47,62,33,60],[47,63,33,61],[47,64,33,62],[47,66,33,64],[47,73,33,71,"parent"],[47,79,33,77],[47,80,33,78,"i"],[47,81,33,79],[47,82,33,80],[47,85,33,83,"leaf"],[47,89,33,87],[47,91,33,89,"tree"],[47,95,33,93],[48,4,34,2],[50,4,36,2],[51,4,37,2,"xp"],[51,6,37,4],[51,9,37,7],[51,10,37,8,"tree"],[51,14,37,12],[51,15,37,13,"_x"],[51,17,37,15],[51,18,37,16,"call"],[51,22,37,20],[51,23,37,21],[51,27,37,25],[51,29,37,27,"node"],[51,33,37,31],[51,34,37,32,"data"],[51,38,37,36],[51,39,37,37],[52,4,38,2,"yp"],[52,6,38,4],[52,9,38,7],[52,10,38,8,"tree"],[52,14,38,12],[52,15,38,13,"_y"],[52,17,38,15],[52,18,38,16,"call"],[52,22,38,20],[52,23,38,21],[52,27,38,25],[52,29,38,27,"node"],[52,33,38,31],[52,34,38,32,"data"],[52,38,38,36],[52,39,38,37],[53,4,39,2],[53,8,39,6,"x"],[53,9,39,7],[53,14,39,12,"xp"],[53,16,39,14],[53,20,39,18,"y"],[53,21,39,19],[53,26,39,24,"yp"],[53,28,39,26],[53,30,39,28],[53,37,39,35,"leaf"],[53,41,39,39],[53,42,39,40,"next"],[53,46,39,44],[53,49,39,47,"node"],[53,53,39,51],[53,55,39,53,"parent"],[53,61,39,59],[53,64,39,62,"parent"],[53,70,39,68],[53,71,39,69,"i"],[53,72,39,70],[53,73,39,71],[53,76,39,74,"leaf"],[53,80,39,78],[53,83,39,81,"tree"],[53,87,39,85],[53,88,39,86,"_root"],[53,93,39,91],[53,96,39,94,"leaf"],[53,100,39,98],[53,102,39,100,"tree"],[53,106,39,104],[55,4,41,2],[56,4,42,2],[56,7,42,5],[57,6,43,4,"parent"],[57,12,43,10],[57,15,43,13,"parent"],[57,21,43,19],[57,24,43,22,"parent"],[57,30,43,28],[57,31,43,29,"i"],[57,32,43,30],[57,33,43,31],[57,36,43,34],[57,40,43,38,"Array"],[57,45,43,43],[57,46,43,44],[57,47,43,45],[57,48,43,46],[57,51,43,49,"tree"],[57,55,43,53],[57,56,43,54,"_root"],[57,61,43,59],[57,64,43,62],[57,68,43,66,"Array"],[57,73,43,71],[57,74,43,72],[57,75,43,73],[57,76,43,74],[58,6,44,4],[58,10,44,8,"right"],[58,15,44,13],[58,18,44,16,"x"],[58,19,44,17],[58,24,44,22,"xm"],[58,26,44,24],[58,29,44,27],[58,30,44,28,"x0"],[58,32,44,30],[58,35,44,33,"x1"],[58,37,44,35],[58,41,44,39],[58,42,44,40],[58,43,44,41],[58,45,44,43,"x0"],[58,47,44,45],[58,50,44,48,"xm"],[58,52,44,50],[58,53,44,51],[58,58,44,57,"x1"],[58,60,44,59],[58,63,44,62,"xm"],[58,65,44,64],[59,6,45,4],[59,10,45,8,"bottom"],[59,16,45,14],[59,19,45,17,"y"],[59,20,45,18],[59,25,45,23,"ym"],[59,27,45,25],[59,30,45,28],[59,31,45,29,"y0"],[59,33,45,31],[59,36,45,34,"y1"],[59,38,45,36],[59,42,45,40],[59,43,45,41],[59,44,45,42],[59,46,45,44,"y0"],[59,48,45,46],[59,51,45,49,"ym"],[59,53,45,51],[59,54,45,52],[59,59,45,58,"y1"],[59,61,45,60],[59,64,45,63,"ym"],[59,66,45,65],[60,4,46,2],[60,5,46,3],[60,13,46,11],[60,14,46,12,"i"],[60,15,46,13],[60,18,46,16,"bottom"],[60,24,46,22],[60,28,46,26],[60,29,46,27],[60,32,46,30,"right"],[60,37,46,35],[60,44,46,42,"j"],[60,45,46,43],[60,48,46,46],[60,49,46,47,"yp"],[60,51,46,49],[60,55,46,53,"ym"],[60,57,46,55],[60,62,46,60],[60,63,46,61],[60,66,46,65,"xp"],[60,68,46,67],[60,72,46,71,"xm"],[60,74,46,74],[60,75,46,75],[61,4,47,2],[61,11,47,9,"parent"],[61,17,47,15],[61,18,47,16,"j"],[61,19,47,17],[61,20,47,18],[61,23,47,21,"node"],[61,27,47,25],[61,29,47,27,"parent"],[61,35,47,33],[61,36,47,34,"i"],[61,37,47,35],[61,38,47,36],[61,41,47,39,"leaf"],[61,45,47,43],[61,47,47,45,"tree"],[61,51,47,49],[62,2,48,0],[63,2,50,7],[63,11,50,16,"addAll"],[63,17,50,22,"addAll"],[63,18,50,23,"data"],[63,22,50,27],[63,24,50,29],[64,4,51,2],[64,8,51,6,"d"],[64,9,51,7],[65,6,51,9,"i"],[65,7,51,10],[66,6,51,12,"n"],[66,7,51,13],[66,10,51,16,"data"],[66,14,51,20],[66,15,51,21,"length"],[66,21,51,27],[67,6,52,6,"x"],[67,7,52,7],[68,6,53,6,"y"],[68,7,53,7],[69,6,54,6,"xz"],[69,8,54,8],[69,11,54,11],[69,15,54,15,"Array"],[69,20,54,20],[69,21,54,21,"n"],[69,22,54,22],[69,23,54,23],[70,6,55,6,"yz"],[70,8,55,8],[70,11,55,11],[70,15,55,15,"Array"],[70,20,55,20],[70,21,55,21,"n"],[70,22,55,22],[70,23,55,23],[71,6,56,6,"x0"],[71,8,56,8],[71,11,56,11,"Infinity"],[71,19,56,19],[72,6,57,6,"y0"],[72,8,57,8],[72,11,57,11,"Infinity"],[72,19,57,19],[73,6,58,6,"x1"],[73,8,58,8],[73,11,58,11],[73,12,58,12,"Infinity"],[73,20,58,20],[74,6,59,6,"y1"],[74,8,59,8],[74,11,59,11],[74,12,59,12,"Infinity"],[74,20,59,20],[76,4,61,2],[77,4,62,2],[77,9,62,7,"i"],[77,10,62,8],[77,13,62,11],[77,14,62,12],[77,16,62,14,"i"],[77,17,62,15],[77,20,62,18,"n"],[77,21,62,19],[77,23,62,21],[77,25,62,23,"i"],[77,26,62,24],[77,28,62,26],[78,6,63,4],[78,10,63,8,"isNaN"],[78,15,63,13],[78,16,63,14,"x"],[78,17,63,15],[78,20,63,18],[78,21,63,19],[78,25,63,23],[78,26,63,24,"_x"],[78,28,63,26],[78,29,63,27,"call"],[78,33,63,31],[78,34,63,32],[78,38,63,36],[78,40,63,38,"d"],[78,41,63,39],[78,44,63,42,"data"],[78,48,63,46],[78,49,63,47,"i"],[78,50,63,48],[78,51,63,49],[78,52,63,50],[78,53,63,51],[78,57,63,55,"isNaN"],[78,62,63,60],[78,63,63,61,"y"],[78,64,63,62],[78,67,63,65],[78,68,63,66],[78,72,63,70],[78,73,63,71,"_y"],[78,75,63,73],[78,76,63,74,"call"],[78,80,63,78],[78,81,63,79],[78,85,63,83],[78,87,63,85,"d"],[78,88,63,86],[78,89,63,87],[78,90,63,88],[78,92,63,90],[79,6,64,4,"xz"],[79,8,64,6],[79,9,64,7,"i"],[79,10,64,8],[79,11,64,9],[79,14,64,12,"x"],[79,15,64,13],[80,6,65,4,"yz"],[80,8,65,6],[80,9,65,7,"i"],[80,10,65,8],[80,11,65,9],[80,14,65,12,"y"],[80,15,65,13],[81,6,66,4],[81,10,66,8,"x"],[81,11,66,9],[81,14,66,12,"x0"],[81,16,66,14],[81,18,66,16,"x0"],[81,20,66,18],[81,23,66,21,"x"],[81,24,66,22],[82,6,67,4],[82,10,67,8,"x"],[82,11,67,9],[82,14,67,12,"x1"],[82,16,67,14],[82,18,67,16,"x1"],[82,20,67,18],[82,23,67,21,"x"],[82,24,67,22],[83,6,68,4],[83,10,68,8,"y"],[83,11,68,9],[83,14,68,12,"y0"],[83,16,68,14],[83,18,68,16,"y0"],[83,20,68,18],[83,23,68,21,"y"],[83,24,68,22],[84,6,69,4],[84,10,69,8,"y"],[84,11,69,9],[84,14,69,12,"y1"],[84,16,69,14],[84,18,69,16,"y1"],[84,20,69,18],[84,23,69,21,"y"],[84,24,69,22],[85,4,70,2],[87,4,72,2],[88,4,73,2],[88,8,73,6,"x0"],[88,10,73,8],[88,13,73,11,"x1"],[88,15,73,13],[88,19,73,17,"y0"],[88,21,73,19],[88,24,73,22,"y1"],[88,26,73,24],[88,28,73,26],[88,35,73,33],[88,39,73,37],[90,4,75,2],[91,4,76,2],[91,8,76,6],[91,9,76,7,"cover"],[91,14,76,12],[91,15,76,13,"x0"],[91,17,76,15],[91,19,76,17,"y0"],[91,21,76,19],[91,22,76,20],[91,23,76,21,"cover"],[91,28,76,26],[91,29,76,27,"x1"],[91,31,76,29],[91,33,76,31,"y1"],[91,35,76,33],[91,36,76,34],[93,4,78,2],[94,4,79,2],[94,9,79,7,"i"],[94,10,79,8],[94,13,79,11],[94,14,79,12],[94,16,79,14,"i"],[94,17,79,15],[94,20,79,18,"n"],[94,21,79,19],[94,23,79,21],[94,25,79,23,"i"],[94,26,79,24],[94,28,79,26],[95,6,80,4,"add"],[95,9,80,7],[95,10,80,8],[95,14,80,12],[95,16,80,14,"xz"],[95,18,80,16],[95,19,80,17,"i"],[95,20,80,18],[95,21,80,19],[95,23,80,21,"yz"],[95,25,80,23],[95,26,80,24,"i"],[95,27,80,25],[95,28,80,26],[95,30,80,28,"data"],[95,34,80,32],[95,35,80,33,"i"],[95,36,80,34],[95,37,80,35],[95,38,80,36],[96,4,81,2],[97,4,83,2],[97,11,83,9],[97,15,83,13],[98,2,84,0],[99,0,84,1],[99,3]],"functionMap":{"names":["<global>","default","add","addAll"],"mappings":"AAA,eC;CDI;AEE;CFyC;OGE;CHkC"},"hasCjsExports":false},"type":"js/module"}]}